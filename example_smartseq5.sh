#!/bin/bash
# Example script for running CamoTSS with Smart-seq5 data

echo "Example commands for running CamoTSS with Smart-seq5 data"

echo ""
echo "1. Run CamoTSS with a directory of BAM files (one per cell):"
echo "   CamoTSS --platform smartseq5 --gtf /path/to/annotation.gtf \\"
echo "           --refFasta /path/to/reference.fasta \\"
echo "           --bam_dir /path/to/bam/files/ \\"
echo "           -o ./output_smartseq5 \\"
echo "           --mode TC+CTSS"

echo ""
echo "2. Run CamoTSS with a list of BAM files:"
echo "   # Create a file with BAM paths (one per line)"
echo "   ls /path/to/cells/*.bam > bam_list.txt"
echo ""
echo "   CamoTSS --platform smartseq5 --gtf /path/to/annotation.gtf \\"
echo "           --refFasta /path/to/reference.fasta \\"
echo "           --bam_list bam_list.txt \\"
echo "           -o ./output_smartseq5 \\"
echo "           --mode TC+CTSS"

echo ""
echo "3. Run CamoTSS with custom cell ID mapping:"
echo "   # Create a TSV file mapping BAM basenames to cell IDs"
echo "   # Format: column 1 = BAM basename (without extension), column 2 = desired cell ID"
echo "   echo -e 'sample1_A\tCell1_repA' > cell_mapping.tsv"
echo "   echo -e 'sample1_B\tCell1_repB' >> cell_mapping.tsv"
echo "   echo -e 'sample2_A\tCell2_repA' >> cell_mapping.tsv"
echo ""
echo "   CamoTSS --platform smartseq5 --gtf /path/to/annotation.gtf \\"
echo "           --refFasta /path/to/reference.fasta \\"
echo "           --bam_dir /path/to/bam/files/ \\"
echo "           --cell_id_from tsv \\"
echo "           --cell_map cell_mapping.tsv \\"
echo "           -o ./output_smartseq5 \\"
echo "           --mode TC+CTSS"

echo ""
echo "4. Run CamoTSS with coordinate-based deduplication (recommended for Smart-seq5):"
echo "   CamoTSS --platform smartseq5 --gtf /path/to/annotation.gtf \\"
echo "           --refFasta /path/to/reference.fasta \\"
echo "           --bam_dir /path/to/bam/files/ \\"
echo "           --tss_read read2 \\"
echo "           --dedup coord \\"
echo "           --min_mapq 30 \\"
echo "           -o ./output_smartseq5 \\"
echo "           --mode TC+CTSS"

echo ""
echo "Note: For Smart-seq5 data, each BAM file represents a single cell."
echo "The cell ID is derived from the BAM file name by default, or from a mapping file."
echo "Deduplication is performed using genomic coordinates rather than UMIs."
